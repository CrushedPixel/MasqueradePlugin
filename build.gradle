buildscript {
    repositories {
        maven {
            name = 'forge'
            url = 'http://files.minecraftforge.net/maven'
        }
    }

    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:2.2-SNAPSHOT'
    }
}

plugins {
    id 'org.spongepowered.plugin' version '0.8.1'
    id 'net.minecrell.vanillagradle.server' version '2.2-5'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

version = 0.1

repositories {
    maven {
        url 'https://jitpack.io'
    }
}

configurations {
    shade
    compile.extendsFrom shade
}

dependencies {
    compile 'org.spongepowered:spongeapi:5.1.0'
    compile 'com.github.crushedpixel:PacketGate:0.1'
    shade 'com.github.crushedpixel:MasqueradeAPI:af72218'
}

minecraft {
    version = '1.10.2'
    mappings = 'stable_29'
    makeObfSourceJar = false
}

jar {
    manifest.attributes('FMLAT': 'masquerade_plugin_at.cfg')
    dependsOn configurations.shade

    from configurations.shade.collect { it.isDirectory() ? it : zipTree(it) }
}